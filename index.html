<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HKR Corp | The Architecture of Tomorrow</title>
    <!-- Three.js for 3D Background -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;900&display=swap');
        
        :root {
            --bg-dark: #000000;
            --accent-cyan: #00ffff;
            --accent-magenta: #ff00ff;
            --btc-yellow: #f7931a;
        }

        body {
            margin: 0;
            background: var(--bg-dark);
            font-family: 'Inter', sans-serif;
            color: white;
            overflow-x: hidden;
        }

        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: 1;
            pointer-events: auto;
            background: radial-gradient(circle at center, #0a0a0a 0%, #000000 100%);
        }

        .page-content {
            position: relative;
            z-index: 10;
            min-height: 100vh;
            display: none; 
            flex-direction: column;
            padding: 120px 10% 80px;
            pointer-events: none;
        }

        .page-content.active {
            display: flex;
        }

        .interactive {
            pointer-events: auto;
        }

        .glass-nav {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 1.5rem 5%;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(to bottom, rgba(0,0,0,0.9), transparent);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .glass-text {
            font-size: clamp(3.5rem, 15vw, 10rem);
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: -0.05em;
            line-height: 0.8;
            mix-blend-mode: screen;
            background: linear-gradient(to bottom right, #fff, #666);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .sub-heading {
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.6em;
            color: var(--accent-cyan);
            margin-bottom: 1.5rem;
            font-weight: 700;
        }

        .card {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            padding: 2.5rem;
            border-radius: 4px;
            transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .card:hover {
            border-color: var(--accent-cyan);
            background: rgba(255, 255, 255, 0.06);
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
        }

        /* BTC BUY BUTTON */
        .btc-buy-btn {
            background: var(--btc-yellow);
            color: white;
            font-weight: 900;
            padding: 1rem 2.5rem;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-size: 0.75rem;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(247, 147, 26, 0.3);
            border: none;
            cursor: pointer;
            width: fit-content;
        }

        .btc-buy-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 40px rgba(247, 147, 26, 0.5);
            background: #fff;
            color: var(--btc-yellow);
        }

        .btc-logo-anim {
            width: 22px;
            height: 22px;
            fill: currentColor;
            animation: rotateBtc 4s linear infinite;
        }

        @keyframes rotateBtc {
            0% { transform: perspective(100px) rotateY(0deg); }
            100% { transform: perspective(100px) rotateY(360deg); }
        }

        .pulse-yellow {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            border: 2px solid var(--btc-yellow);
            border-radius: 4px;
            animation: pulseY 2s infinite;
            pointer-events: none;
        }

        @keyframes pulseY {
            0% { transform: translate(-50%, -50%) scale(1); opacity: 0.8; }
            100% { transform: translate(-50%, -50%) scale(1.4); opacity: 0; }
        }

        .nav-link {
            position: relative;
            cursor: pointer;
            transition: all 0.3s;
            opacity: 0.6;
        }

        .nav-link:hover, .nav-link.active {
            opacity: 1;
            color: var(--accent-cyan);
        }

        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -8px;
            left: 0;
            background-color: var(--accent-cyan);
            transition: width 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .nav-link:hover::after, .nav-link.active::after {
            width: 100%;
        }

        /* MODALS */
        #solution-modal, #text-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 200;
            background: rgba(0,0,0,0.9);
            backdrop-filter: blur(25px);
            display: none;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        #solution-modal.active, #text-modal.active {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            position: absolute;
            top: 5vh;
            left: 5vw;
            right: 5vw;
            bottom: 5vh;
            width: auto;
            height: auto;
            max-width: 1400px;
            background: #050505;
            border: 1px solid rgba(255, 255, 255, 0.08);
            overflow-y: auto;
            padding: 0;
            box-shadow: 0 40px 100px rgba(0,0,0,0.8);
            transform: translateY(20px) scale(0.98);
            transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        }

        #solution-modal.active .modal-content {
            transform: translateY(0) scale(1);
        }

        .modal-hero {
            height: 55vh;
            width: 100%;
            background-size: cover;
            background-position: center;
            position: relative;
            display: flex;
            align-items: flex-end;
            padding: 4rem;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        
        .modal-hero::after {
            content: '';
            position: absolute;
            top:0; left:0; width:100%; height:100%;
            background: linear-gradient(to top, #050505 5%, transparent 100%);
        }

        .modal-body-content {
            padding: 4rem;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1) 0.2s;
        }

        #solution-modal.active .modal-body-content {
            opacity: 1;
            transform: translateY(0);
        }

        .close-btn {
            position: sticky;
            top: 2rem;
            left: calc(100% - 10rem);
            margin-right: 2rem;
            z-index: 100;
            cursor: pointer;
            padding: 12px 24px;
            border: 1px solid rgba(255,255,255,0.1);
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(10px);
            text-transform: uppercase;
            font-size: 0.75rem;
            letter-spacing: 0.2em;
            transition: all 0.3s;
            color: white;
            display: block;
            width: fit-content;
            font-weight: 700;
        }
        .close-btn:hover {
            background: white;
            color: black;
            border-color: white;
            transform: scale(1.05);
        }

        .media-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2rem;
            margin-top: 4rem;
        }

        .media-placeholder {
            aspect-ratio: 16/9;
            background: linear-gradient(45deg, rgba(255,255,255,0.02), rgba(255,255,255,0.05));
            border: 1px dashed rgba(255,255,255,0.15);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            transition: all 0.4s;
        }

        .media-placeholder:hover {
            border-color: var(--accent-cyan);
            background: rgba(255,255,255,0.07);
        }

        .media-placeholder span {
            font-size: 0.65rem;
            text-transform: uppercase;
            letter-spacing: 0.3em;
            color: rgba(255,255,255,0.4);
            font-weight: 600;
        }

        .footer {
            padding: 6rem 10%;
            background: #050505;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            z-index: 20;
            position: relative;
        }

        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: #1a1a1a; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--accent-cyan); }
    </style>
</head>
<body>

    <nav class="glass-nav">
        <div class="text-xl font-black tracking-tighter interactive cursor-pointer hover:text-cyan-400 transition" onclick="showPage('home')">HKR CORP.</div>
        <div class="hidden md:flex gap-10 text-[11px] font-bold tracking-[0.35em] uppercase interactive">
            <span class="nav-link active" data-page="home" onclick="showPage('home')">Home</span>
            <span class="nav-link" data-page="solutions" onclick="showPage('solutions')">Solutions</span>
            <span class="nav-link" data-page="tech" onclick="showPage('tech')">Technology</span>
            <span class="nav-link" data-page="careers" onclick="showPage('careers')">Careers</span>
            <span class="nav-link" data-page="about" onclick="showPage('about')">About</span>
            <button class="bg-white text-black px-5 py-2 hover:bg-cyan-400 transition ml-4 font-bold tracking-widest text-[10px]" onclick="showPage('contact')">CONNECT</button>
        </div>
    </nav>

    <div id="canvas-container"></div>

    <!-- MODAL FOR SOLUTIONS -->
    <div id="solution-modal" onclick="closeModal(event)">
        <div class="modal-content interactive" onclick="event.stopPropagation()">
            <button class="close-btn" onclick="closeModal()">✕ CLOSE</button>
            <div id="modal-body"></div>
        </div>
    </div>

    <!-- HOME PAGE -->
    <div id="page-home" class="page-content active">
        <div class="max-w-5xl min-h-[75vh] flex flex-col justify-center">
            <p class="sub-heading">Global Innovation Matrix</p>
            <h1 class="glass-text">CHANGE THE<br>WORLD</h1>
            <p class="mt-10 text-gray-400 max-w-xl leading-relaxed interactive text-lg">
                Architecting high-dimensional kinetic resources for the global digital economy. We bridge the gap between theoretical computing and physical infrastructure with absolute precision.
            </p>
            <div class="mt-12 flex flex-wrap gap-8 interactive">
                <button onclick="scrollToFeatured()" class="bg-white text-black px-10 py-5 text-[11px] font-black tracking-[0.3em] uppercase hover:bg-cyan-400 transition shadow-2xl">VIEW PORTFOLIO</button>
                <button onclick="showPage('tech')" class="text-[11px] tracking-[0.3em] font-black uppercase flex items-center gap-3 group hover:text-cyan-400 transition">
                    TECHNICAL CORE <span class="group-hover:translate-x-3 transition">→</span>
                </button>
            </div>
        </div>

        <div id="featured-work" class="mt-40 max-w-7xl w-full mx-auto">
            <h3 class="text-[11px] tracking-[0.6em] font-black text-cyan-400 uppercase mb-16 border-b border-white/5 pb-6">FEATURED SOLUTIONS</h3>
            <div class="grid md:grid-cols-2 gap-10 interactive">
                
                <!-- CypherMonk Card -->
                <div class="card cursor-pointer" onclick="openSolution('cyphermonk')">
                    <div>
                        <div class="text-cyan-400 text-[10px] mb-5 tracking-[0.4em] font-black uppercase">BLOCKCHAIN</div>
                        <h3 class="text-2xl font-black mb-4 uppercase tracking-tighter">CypherMonk</h3>
                        <p class="text-gray-500 text-sm leading-relaxed mb-10">Secure BTC cold storage hardware for the post-quantum era. Physical sovereignty for your digital wealth.</p>
                        
                        <!-- YELLOW BTC BUTTON -->
                        <a href="icarus-shop.html" target="_blank" class="btc-buy-btn" onclick="event.stopPropagation()">
                            <div class="pulse-yellow"></div>
                            <svg class="btc-logo-anim" viewBox="0 0 32 32">
                                <path d="M22.7,11.5c-0.5-3.3-2.6-4.6-5.6-5.1V2.6h-2.1v3.7c-0.5,0-1.1,0.1-1.6,0.2V2.6H11.2v3.8c-0.4,0.1-0.9,0.2-1.3,0.3l0-0.1L6.7,5.7l-0.6,2.5c0,0,1.7,0.4,1.7,0.4c1,0.2,1.1,0.8,1.1,1.3l0.1,5.2c0,0.1,0,0.2,0,0.3l-0.1,6.5c0,0.5-0.1,1.1-1.1,1.3c0,0-1.7,0.4-1.7,0.4l0.6,2.5l3.2-0.8c0.5,0.1,0.9,0.2,1.3,0.3v3.8h2.1v-3.7c0.6,0,1.1,0.1,1.6,0.1v3.7h2.1v-3.8c3.6-0.3,6.1-1.4,6.7-5.5c0.5-3.3-0.8-5-3.2-5.9C21.9,15.6,23.1,13.9,22.7,11.5z M18,22c-0.4,2.5-4.2,1.2-5.4,0.9l1-3.9C14.8,19.3,18.4,20,18,22z M18.8,13.5c-0.3,2.2-3.5,1.1-4.5,0.8l0.9-3.5C16.1,11,19.1,11.7,18.8,13.5z"/>
                            </svg>
                            BUY ICARUS NOW
                        </a>
                    </div>
                </div>

                <!-- Sagemaker Card -->
                <div class="card cursor-pointer" onclick="openSolution('sagemaker')">
                    <div>
                        <div class="text-cyan-400 text-[10px] mb-5 tracking-[0.4em] font-black uppercase">ED-TECH</div>
                        <h3 class="text-2xl font-black mb-4 uppercase tracking-tighter">SageMaker</h3>
                        <p class="text-gray-500 text-sm leading-relaxed">Cloud-native unified learning ecosystem available across all scientific fields and platforms.</p>
                    </div>
                </div>

                <!-- BornFree Card -->
                <div class="card cursor-pointer" onclick="openSolution('bornfree')">
                    <div>
                        <div class="text-gray-400 text-[10px] mb-5 tracking-[0.4em] font-black uppercase">TOURISM</div>
                        <h3 class="text-2xl font-black mb-4 uppercase tracking-tighter">BornFree</h3>
                        <p class="text-gray-500 text-sm leading-relaxed">Intelligent tourism assistant streamlining logistics for seamless global travel experiences.</p>
                    </div>
                </div>

                <!-- Dreamweaver Card -->
                <div class="card cursor-pointer" onclick="openSolution('dreamweaver')">
                    <div>
                        <div class="text-magenta-400 text-[10px] mb-5 tracking-[0.4em] font-black uppercase">LUXURY APPAREL</div>
                        <h3 class="text-2xl font-black mb-4 uppercase tracking-tighter">Dreamweaver</h3>
                        <p class="text-gray-500 text-sm leading-relaxed">Custom-tailored apparel that emphasizes a "sexy" state of mind with high-quality material integrity.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Empty Sections for structure -->
    <div id="page-solutions" class="page-content"></div>
    <div id="page-tech" class="page-content"></div>
    <div id="page-careers" class="page-content"></div>
    <div id="page-about" class="page-content"></div>
    <div id="page-contact" class="page-content"></div>

    <script>
        let scene, camera, renderer, masterGroup, stars, clock;
        let mouseX = 0, mouseY = 0;
        let targetRotationX = 0.5, targetRotationY = 0.5;
        let currentRotationX = 0.5, currentRotationY = 0.5;
        let windowHalfX = window.innerWidth / 2;
        let windowHalfY = window.innerHeight / 2;
        let isTouch = false;
        let currentActivePage = 'home';
        
        const solutionData = {
            cyphermonk: {
                title: "CypherMonk",
                category: "Blockchain Security",
                sub: "Physical sovereignty for the post-quantum era.",
                description: "CypherMonk provides quantum-resistant cryptographic solutions and high-security cold storage via our proprietary Icarus Cards. By utilizing physical, non-electronic storage methods, we ensure your assets remain safe from digital theft and future computational threats.",
                detail: `Icarus Cards represent the ultimate tier of cold storage. By removing all electronics, batteries, and connectivity, we eliminate the primary attack surfaces used by modern hackers. Each card is a physical fortress for your private keys.`,
                heroImg: "https://via.placeholder.com/1920x800/111/f7931a?text=ICARUS_CARDS",
                isBtc: true,
                media: [
                    "https://s3.amazonaws.com/hkr-corp-assets/solutions/cyphermonk/media-1.jpg",
                    "https://s3.amazonaws.com/hkr-corp-assets/solutions/cyphermonk/media-2.jpg",
                    "https://s3.amazonaws.com/hkr-corp-assets/solutions/cyphermonk/media-3.mp4"
                ]
            },
            sagemaker: {
                title: "SageMaker",
                category: "Ed-Tech",
                sub: "Education should be accessible everywhere.",
                description: "SageMaker is a globally distributed learning ecosystem. Leveraging AWS infrastructure, we provide real-time, adaptive scientific curricula for students worldwide, ensuring knowledge parity across borders.",
                detail: "SageMaker is a cloud-native application delivering expertly curated content across all scientific fields. It adapts to students of any age or expertise level through recursive feedback loops and AI-driven curriculum adjustment.",
                heroImg: "https://via.placeholder.com/1920x800/111/00ffff?text=SAGEMAKER",
                media: [
                    "https://s3.amazonaws.com/hkr-corp-assets/solutions/sagemaker/media-1.jpg",
                    "https://s3.amazonaws.com/hkr-corp-assets/solutions/sagemaker/media-2.jpg"
                ]
            },
            bornfree: {
                title: "BornFree",
                category: "Tourism Logistics",
                sub: "Travel is about freedom, and BornFree removes the friction.",
                description: "BornFree is an intelligent tourism logistics suite. We streamline travel documentation, route optimization, and local interaction through a secure, cloud-native assistant designed for the modern explorer.",
                detail: "This cloud-based application serves as a comprehensive travel assistant, streamlining tourism logistics to ensure that the journey is as enjoyable as the destination. We handle route optimization and real-time syncing.",
                heroImg: "https://via.placeholder.com/1920x800/111/888888?text=BORNFREE",
                media: [
                    "https://s3.amazonaws.com/hkr-corp-assets/solutions/bornfree/media-1.jpg",
                    "https://s3.amazonaws.com/hkr-corp-assets/solutions/bornfree/media-2.jpg"
                ]
            },
            dreamweaver: {
                title: "Dreamweaver",
                category: "Luxury Apparel",
                sub: "The architecture of confidence.",
                description: "Dreamweaver is a luxury apparel line focused on the intersection of high fashion and kinetic engineering. Our garments are designed with material integrity that adapts to the wearer's state of mind.",
                detail: "High-quality craftsmanship meets aesthetic fluidity. We specialize in custom-tailored apparel that emphasizes a state of mind without sacrificing ease of wear.",
                heroImg: "https://via.placeholder.com/1920x800/111/ff00ff?text=DREAMWEAVER",
                media: [
                    "https://s3.amazonaws.com/hkr-corp-assets/solutions/dreamweaver/media-1.jpg",
                    "https://s3.amazonaws.com/hkr-corp-assets/solutions/dreamweaver/media-2.jpg"
                ]
            }
        };

        function showPage(pageId) {
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.toggle('active', link.getAttribute('data-page') === pageId);
            });
            document.querySelectorAll('.page-content').forEach(page => page.classList.remove('active'));
            document.getElementById('page-' + pageId).classList.add('active');
            currentActivePage = pageId;
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function scrollToFeatured() {
            document.getElementById('featured-work').scrollIntoView({ behavior: 'smooth' });
        }

        function openSolution(id) {
            const data = solutionData[id];
            const modalBody = document.getElementById('modal-body');
            
            const mediaHtml = data.media.map((url, index) => `
                <div class="media-placeholder">
                    <span>S3 ASSET: ${id}_0${index + 1}</span>
                </div>
            `).join('');

            modalBody.innerHTML = `
                <div class="modal-hero" style="background-image: url('${data.heroImg}');">
                    <div class="relative z-10 max-w-4xl">
                        <p class="text-cyan-400 text-xs tracking-[0.5em] uppercase mb-4">${data.category}</p>
                        <h2 class="text-5xl lg:text-8xl font-black tracking-tighter uppercase text-white mb-6">${data.title}</h2>
                    </div>
                </div>
                
                <div class="modal-body-content">
                    <div class="grid lg:grid-cols-12 gap-16">
                        <div class="lg:col-span-8">
                            <p class="text-2xl font-light text-white leading-relaxed mb-6">${data.sub}</p>
                            <p class="text-gray-300 text-lg leading-relaxed mb-8 italic">${data.description}</p>
                            <div class="text-gray-400 leading-loose text-lg mb-10">
                                ${data.detail}
                            </div>
                            ${data.isBtc ? `
                                <a href="icarus-shop.html" target="_blank" class="btc-buy-btn">
                                    <div class="pulse-yellow"></div>
                                    <svg class="btc-logo-anim" viewBox="0 0 32 32">
                                        <path d="M22.7,11.5c-0.5-3.3-2.6-4.6-5.6-5.1V2.6h-2.1v3.7c-0.5,0-1.1,0.1-1.6,0.2V2.6H11.2v3.8c-0.4,0.1-0.9,0.2-1.3,0.3l0-0.1L6.7,5.7l-0.6,2.5c0,0,1.7,0.4,1.7,0.4c1,0.2,1.1,0.8,1.1,1.3l0.1,5.2c0,0.1,0,0.2,0,0.3l-0.1,6.5c0,0.5-0.1,1.1-1.1,1.3c0,0-1.7,0.4-1.7,0.4l0.6,2.5l3.2-0.8c0.5,0.1,0.9,0.2,1.3,0.3v3.8h2.1v-3.7c0.6,0,1.1,0.1,1.6,0.1v3.7h2.1v-3.8c3.6-0.3,6.1-1.4,6.7-5.5c0.5-3.3-0.8-5-3.2-5.9C21.9,15.6,23.1,13.9,22.7,11.5z M18,22c-0.4,2.5-4.2,1.2-5.4,0.9l1-3.9C14.8,19.3,18.4,20,18,22z M18.8,13.5c-0.3,2.2-3.5,1.1-4.5,0.8l0.9-3.5C16.1,11,19.1,11.7,18.8,13.5z"/>
                                    </svg>
                                    EXPLORE ICARUS STORE
                                </a>
                            ` : ''}
                            
                            <div class="media-grid">
                                ${mediaHtml}
                            </div>
                        </div>
                        <div class="lg:col-span-4 border-l border-white/10 pl-8">
                            <h4 class="text-[11px] uppercase tracking-[0.3em] font-black text-cyan-400 mb-6">ARCHITECTURE DATA</h4>
                            <ul class="text-[11px] text-gray-500 space-y-4 font-mono">
                                <li><span class="text-white">ID:</span> HKR-${id.toUpperCase()}-001</li>
                                <li><span class="text-white">DEPLOYMENT:</span> GLOBAL-EDGE</li>
                                <li><span class="text-white">STATUS:</span> OPERATIONAL</li>
                                <li><span class="text-white">PROTOCOL:</span> E2E-SECURED</li>
                            </ul>
                            <div class="mt-12">
                                <button onclick="closeModal()" class="w-full py-5 border border-white/10 text-[10px] font-black uppercase tracking-widest hover:bg-white hover:text-black transition">✕ DISMISS</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('solution-modal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal(e) {
            if (!e || e.target.id === 'solution-modal' || e.target.closest('.close-btn') || e.target.innerText.includes('DISMISS')) {
                document.getElementById('solution-modal').classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        }

        function init() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 2000);
            camera.position.z = 6;
            
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            document.getElementById('canvas-container').appendChild(renderer.domElement);

            // Master Group for the Cube
            masterGroup = new THREE.Group();
            scene.add(masterGroup);
            
            const cubeCount = 6;
            for (let i = 0; i < cubeCount; i++) {
                const scale = Math.pow(0.78, i);
                const geometry = new THREE.BoxGeometry(2.5 * scale, 2.5 * scale, 2.5 * scale);
                
                // Prismatic Glass Material
                const material = new THREE.MeshPhysicalMaterial({
                    color: 0xffffff,
                    metalness: 0.1,
                    roughness: 0.05,
                    transmission: 0.95,
                    thickness: 0.5,
                    transparent: true,
                    opacity: i === 0 ? 0.4 : 0.3 / (i + 0.5),
                    side: THREE.DoubleSide,
                    reflectivity: 1.0,
                    clearcoat: 1.0
                });
                
                const mesh = new THREE.Mesh(geometry, material);
                
                // Glowing Edges
                const edges = new THREE.EdgesGeometry(geometry);
                const lineMat = new THREE.LineBasicMaterial({ 
                    color: i % 2 === 0 ? 0x00ffff : 0xff00ff,
                    transparent: true,
                    opacity: 0.5 / (i + 1)
                });
                const line = new THREE.LineSegments(edges, lineMat);
                mesh.add(line);
                
                masterGroup.add(mesh);
            }

            // Starfield Particle System
            const starsGeometry = new THREE.BufferGeometry();
            const starsCount = 2500;
            const posArray = new Float32Array(starsCount * 3);
            const colorArray = new Float32Array(starsCount * 3);

            for(let i=0; i < starsCount * 3; i+=3) {
                posArray[i] = (Math.random() - 0.5) * 40;
                posArray[i+1] = (Math.random() - 0.5) * 40;
                posArray[i+2] = (Math.random() - 0.5) * 40;
                
                // Varied Star Colors (Cyan, Magenta, White)
                const r = Math.random();
                if(r < 0.3) { // Cyan
                    colorArray[i] = 0; colorArray[i+1] = 1; colorArray[i+2] = 1;
                } else if(r < 0.6) { // Magenta
                    colorArray[i] = 1; colorArray[i+1] = 0; colorArray[i+2] = 1;
                } else { // White
                    colorArray[i] = 1; colorArray[i+1] = 1; colorArray[i+2] = 1;
                }
            }
            starsGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
            starsGeometry.setAttribute('color', new THREE.BufferAttribute(colorArray, 3));
            
            const starsMaterial = new THREE.PointsMaterial({
                size: 0.05,
                vertexColors: true,
                transparent: true,
                opacity: 0.8,
                blending: THREE.AdditiveBlending
            });
            stars = new THREE.Points(starsGeometry, starsMaterial);
            scene.add(stars);

            // Vibrant Lights
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.2);
            scene.add(ambientLight);

            const light1 = new THREE.PointLight(0x00ffff, 2, 30);
            light1.position.set(10, 10, 10);
            scene.add(light1);

            const light2 = new THREE.PointLight(0xff00ff, 2, 30);
            light2.position.set(-10, -10, 10);
            scene.add(light2);

            const light3 = new THREE.PointLight(0xf7931a, 1.5, 30); // BTC Yellow
            light3.position.set(0, 15, -10);
            scene.add(light3);

            clock = new THREE.Clock();

            // Interactivity Events
            document.addEventListener('mousemove', onMouseMove);
            document.addEventListener('touchstart', onTouchStart, {passive: false});
            document.addEventListener('touchmove', onTouchMove, {passive: false});
            window.addEventListener('resize', onWindowResize);

            animate();
        }

        function onMouseMove(event) {
            mouseX = (event.clientX - windowHalfX);
            mouseY = (event.clientY - windowHalfY);
        }

        function onTouchStart(event) {
            isTouch = true;
        }

        function onTouchMove(event) {
            if (event.touches.length === 1) {
                isTouch = true;
                mouseX = (event.touches[0].pageX - windowHalfX) * 2;
                mouseY = (event.touches[0].pageY - windowHalfY) * 2;
            }
        }

        function onWindowResize() {
            windowHalfX = window.innerWidth / 2;
            windowHalfY = window.innerHeight / 2;
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        function animate() {
            requestAnimationFrame(animate);
            const time = clock.getElapsedTime();
            
            // Interaction Physics (Lerping)
            const targetX = mouseX * 0.001;
            const targetY = mouseY * 0.001;
            
            currentRotationY += (targetX - currentRotationY) * 0.05;
            currentRotationX += (targetY - currentRotationX) * 0.05;

            // Cube Rotation
            masterGroup.rotation.y = currentRotationY + (time * 0.1);
            masterGroup.rotation.x = currentRotationX + (time * 0.05);
            
            // Sub-cube internal oscillation
            masterGroup.children.forEach((child, i) => {
                child.rotation.z = Math.sin(time * 0.5 + i) * 0.2;
                child.position.y = Math.sin(time * 1 + i) * 0.05;
            });

            // Starfield Animation
            stars.rotation.y = time * 0.02;
            stars.rotation.x = -currentRotationX * 0.5;
            stars.position.z = Math.sin(time * 0.1) * 2;

            // Layout Response
            let layoutTargetX = 0, layoutTargetY = 0, layoutScale = 1;
            if (currentActivePage === 'home') {
                layoutTargetY = window.scrollY * 0.002;
                if(window.innerWidth < 768) layoutScale = 0.6;
            }
            
            masterGroup.position.x += (layoutTargetX - masterGroup.position.x) * 0.08;
            masterGroup.position.y += (layoutTargetY - masterGroup.position.y) * 0.08;
            const s = masterGroup.scale.x + (layoutScale - masterGroup.scale.x) * 0.08;
            masterGroup.scale.set(s, s, s);

            renderer.render(scene, camera);
        }

        window.onload = init;
    </script>
</body>
</html>

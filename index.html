<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HKR Corp | The Architecture of Tomorrow</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;900&display=swap');
        
        :root {
            --bg-dark: #000000;
            --accent-cyan: #00ffff;
            --accent-magenta: #ff00ff;
        }

        body {
            margin: 0;
            background: var(--bg-dark);
            font-family: 'Inter', sans-serif;
            color: white;
            overflow-x: hidden;
        }

        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: 1;
            pointer-events: auto;
        }

        .page-content {
            position: relative;
            z-index: 10;
            min-height: 100vh;
            display: none; 
            flex-direction: column;
            padding: 120px 10% 80px;
            pointer-events: none;
        }

        .page-content.active {
            display: flex;
        }

        .interactive {
            pointer-events: auto;
        }

        .glass-nav {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 1.5rem 5%;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(to bottom, rgba(0,0,0,0.9), transparent);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .glass-text {
            font-size: clamp(3rem, 12vw, 9rem);
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: -0.05em;
            line-height: 0.85;
            mix-blend-mode: exclusion;
        }

        .sub-heading {
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.6em;
            color: var(--accent-cyan);
            margin-bottom: 1rem;
        }

        .card {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            padding: 2.5rem;
            border-radius: 2px;
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .card:hover {
            border-color: var(--accent-cyan);
            background: rgba(255, 255, 255, 0.07);
            transform: translateY(-5px);
        }

        .nav-link {
            position: relative;
            cursor: pointer;
            transition: color 0.3s;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 1px;
            bottom: -5px;
            left: 0;
            background-color: var(--accent-cyan);
            transition: width 0.3s;
        }

        .nav-link:hover::after, .nav-link.active::after {
            width: 100%;
        }

        /* Full Screen Modal with 20px Margin */
        #solution-modal, #text-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 200;
            background: rgba(0,0,0,0.85);
            backdrop-filter: blur(15px);
            display: none;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        #solution-modal.active, #text-modal.active {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            /* Full screen with 20px margin */
            position: absolute;
            top: 20px;
            left: 20px;
            right: 20px;
            bottom: 20px;
            width: auto;
            height: auto;
            
            background: #050505;
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow-y: auto;
            padding: 0;
            box-shadow: 0 0 50px rgba(0,0,0,0.5);
            transform: scale(0.98);
            transition: transform 0.4s cubic-bezier(0.22, 1, 0.36, 1);
        }

        #solution-modal.active .modal-content, #text-modal.active .modal-content {
            transform: scale(1);
        }

        /* Modal Internal Layout */
        .modal-hero {
            height: 50vh;
            width: 100%;
            background-size: cover;
            background-position: center;
            position: relative;
            display: flex;
            align-items: flex-end;
            padding: 4rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .modal-hero::after {
            content: '';
            position: absolute;
            top:0; left:0; width:100%; height:100%;
            background: linear-gradient(to top, #050505, transparent);
        }

        .modal-body-content {
            padding: 4rem;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease 0.2s;
        }

        #solution-modal.active .modal-body-content, #text-modal.active .modal-body-content {
            opacity: 1;
            transform: translateY(0);
        }

        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 4rem;
        }

        .detail-img {
            width: 100%;
            height: 300px;
            background: #111;
            border: 1px solid rgba(255,255,255,0.1);
            position: relative;
            overflow: hidden;
        }
        
        /* Placeholder for S3 images */
        .s3-placeholder {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.5;
            transition: opacity 0.3s;
        }
        .detail-img:hover .s3-placeholder {
            opacity: 0.8;
        }

        .btn-primary {
            background: white;
            color: black;
            padding: 1rem 2.5rem;
            font-size: 0.7rem;
            font-weight: 700;
            letter-spacing: 0.3em;
            text-transform: uppercase;
            transition: all 0.3s;
        }

        .btn-primary:hover {
            background: var(--accent-cyan);
            letter-spacing: 0.4em;
        }
        
        /* Updated Close Button Position */
        .close-btn {
            position: absolute;
            top: 2rem;
            left: 4rem; /* Aligned left to match content padding */
            z-index: 50;
            cursor: pointer;
            padding: 10px 20px;
            border: 1px solid rgba(255,255,255,0.2);
            background: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
            text-transform: uppercase;
            font-size: 0.7rem;
            letter-spacing: 0.2em;
            transition: all 0.3s;
            color: white;
        }
        .close-btn:hover {
            background: white;
            color: black;
            border-color: white;
        }

        /* Footer Enhancements */
        .footer {
            padding: 6rem 10%;
            background: #050505;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 20;
            position: relative;
        }

        .footer-heading {
            font-size: 0.7rem;
            letter-spacing: 0.3em;
            text-transform: uppercase;
            color: #888;
            margin-bottom: 1.5rem;
            font-weight: 700;
        }

        .footer-link {
            display: block;
            color: #555;
            text-decoration: none;
            margin-bottom: 0.8rem;
            font-size: 0.85rem;
            transition: color 0.3s;
            cursor: pointer;
        }

        .footer-link:hover {
            color: var(--accent-cyan);
        }

        /* Cookie Popup */
        #cookie-popup {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 350px;
            background: rgba(15, 15, 15, 0.9);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 2rem;
            z-index: 500;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
            pointer-events: none;
        }

        #cookie-popup.visible {
            transform: translateY(0);
            opacity: 1;
            pointer-events: auto;
        }

        /* Job Card for Careers */
        .job-card {
            border-left: 2px solid rgba(255,255,255,0.1);
            padding-left: 1.5rem;
            margin-bottom: 2rem;
            transition: all 0.3s;
        }
        
        .job-card:hover {
            border-left-color: var(--accent-cyan);
            padding-left: 2rem;
        }

        /* System Status Graph Canvas */
        #system-graph-container {
            width: 100%;
            height: 250px;
            background: #0a0a0a;
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }
        
        #system-graph-container canvas {
            display: block;
        }

        .status-overlay {
            position: absolute;
            top: 10px;
            left: 10px;
            font-family: 'Courier New', monospace;
            font-size: 10px;
            color: var(--accent-cyan);
            z-index: 10;
            pointer-events: none;
        }

        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: #222; }
        ::-webkit-scrollbar-thumb:hover { background: var(--accent-cyan); }
    </style>
</head>
<body>

    <!-- Cookie Popup -->
    <div id="cookie-popup">
        <h4 class="text-xs uppercase tracking-widest font-bold mb-4 text-cyan-400">System Optimization</h4>
        <p class="text-xs text-gray-400 leading-relaxed mb-6">
            HKR Corp uses advanced telemetry cookies to ensure optimal rendering of high-dimensional assets.
        </p>
        <div class="flex gap-4">
            <button onclick="acceptCookies()" class="bg-white text-black px-4 py-2 text-[10px] uppercase tracking-widest font-bold hover:bg-cyan-400 transition">Accept</button>
            <button onclick="acceptCookies()" class="text-gray-500 hover:text-white px-2 py-2 text-[10px] uppercase tracking-widest transition">Decline</button>
        </div>
    </div>

    <nav class="glass-nav">
        <div class="text-xl font-black tracking-tighter interactive cursor-pointer" onclick="showPage('home')">HKR CORP.</div>
        <div class="hidden md:flex gap-10 text-[10px] font-bold tracking-[0.3em] uppercase interactive">
            <span class="nav-link active" data-page="home" onclick="showPage('home')">Home</span>
            <span class="nav-link" data-page="solutions" onclick="showPage('solutions')">Solutions</span>
            <span class="nav-link" data-page="tech" onclick="showPage('tech')">Technology</span>
            <span class="nav-link" data-page="careers" onclick="showPage('careers')">Careers</span>
            <span class="nav-link" data-page="about" onclick="showPage('about')">About</span>
            <button class="bg-white text-black px-4 py-2 hover:bg-cyan-400 transition ml-4" onclick="showPage('contact')">Connect</button>
        </div>
    </nav>

    <div id="canvas-container"></div>

    <!-- SOLUTION POP-UP MODAL -->
    <div id="solution-modal" onclick="closeModal(event)">
        <div class="modal-content interactive" onclick="event.stopPropagation()">
            <button class="close-btn" onclick="closeModal()">‚úï Close</button>
            <div id="modal-body">
                <!-- Content injected via JS -->
            </div>
        </div>
    </div>

    <!-- TEXT/FOOTER POP-UP MODAL -->
    <div id="text-modal" onclick="closeTextModal(event)">
        <div class="modal-content interactive flex justify-center items-center" onclick="event.stopPropagation()">
            <button class="close-btn" onclick="closeTextModal()">‚úï Close</button>
            <div id="text-modal-body" class="max-w-4xl w-full p-16 modal-body-content">
                <!-- Content injected via JS -->
            </div>
        </div>
    </div>

    <!-- HOME PAGE -->
    <div id="page-home" class="page-content active">
        <div class="max-w-4xl min-h-[70vh] flex flex-col justify-center">
            <p class="sub-heading">Global Innovation Matrix</p>
            <h1 class="glass-text">CHANGE THE<br>WORLD</h1>
            <p class="mt-8 text-gray-400 max-w-lg leading-relaxed interactive text-sm">
                HKR Corp architecting high-dimensional kinetic resources for the global digital economy. We bridge the gap between theoretical computing and physical infrastructure.
            </p>
            <div class="mt-10 flex flex-wrap gap-6 interactive">
                <button onclick="scrollToFeatured()" class="btn-primary">View Solutions</button>
                <button onclick="showPage('tech')" class="text-[10px] tracking-[0.3em] uppercase flex items-center gap-2 group hover:text-cyan-400 transition">
                    Technical Core <span class="group-hover:translate-x-2 transition">‚Üí</span>
                </button>
            </div>
        </div>

        <div id="featured-work" class="mt-32 max-w-7xl w-full mx-auto">
            <h3 class="text-xs tracking-[0.5em] font-bold text-cyan-400 uppercase mb-12 border-b border-white/10 pb-4">Featured Solutions</h3>
            <div class="grid md:grid-cols-2 gap-8 interactive">
                <div class="card cursor-pointer" onclick="openSolution('dreamweaver')">
                    <div>
                        <div class="text-magenta-400 text-[10px] mb-4 tracking-[0.3em]" style="color:#ff00ff">LUXURY APPAREL</div>
                        <h3 class="text-xl font-bold mb-3">Dreamweaver</h3>
                        <p class="text-gray-500 text-xs leading-relaxed">Custom-tailored apparel that emphasizes a "sexy" state of mind with high-quality material integrity.</p>
                    </div>
                </div>
                <div class="card cursor-pointer" onclick="openSolution('sagemaker')">
                    <div>
                        <div class="text-cyan-400 text-[10px] mb-4 tracking-[0.3em]">ED-TECH</div>
                        <h3 class="text-xl font-bold mb-3">Sagemaker</h3>
                        <p class="text-gray-500 text-xs leading-relaxed">Cloud-native unified learning ecosystem available across all scientific fields and platforms.</p>
                    </div>
                </div>
                <div class="card cursor-pointer" onclick="openSolution('bornfree')">
                    <div>
                        <div class="text-gray-400 text-[10px] mb-4 tracking-[0.3em]">TOURISM</div>
                        <h3 class="text-xl font-bold mb-3">BornFree</h3>
                        <p class="text-gray-500 text-xs leading-relaxed">Streamlining tourism logistics as a comprehensive travel assistant to ensure enjoyable journeys.</p>
                    </div>
                </div>
                <div class="card cursor-pointer" onclick="openSolution('cyphermonk')">
                    <div>
                        <div class="text-cyan-400 text-[10px] mb-4 tracking-[0.3em]">BLOCKCHAIN</div>
                        <h3 class="text-xl font-bold mb-3">CypherMonk</h3>
                        <p class="text-gray-500 text-xs leading-relaxed">Post-Quantum Cryptography and BTC cold storage via Icarus Cards for secure communications.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- SOLUTIONS PAGE -->
    <div id="page-solutions" class="page-content">
        <div class="max-w-7xl w-full mx-auto">
            <div class="max-w-3xl mb-16">
                <p class="sub-heading">Tactical Portfolios</p>
                <h2 class="text-5xl font-black mb-6 tracking-tighter uppercase">Solutions</h2>
                <p class="text-gray-400 leading-relaxed interactive text-lg">
                    At the core of our company is a drive to solve complex problems through specialized expertise. Our portfolio showcases a diverse range of projects‚Äîfrom luxury fashion to cutting-edge cryptography.
                </p>
            </div>
            
            <h3 class="text-xs tracking-[0.5em] font-bold text-cyan-400 uppercase mb-8 border-b border-white/10 pb-4">Our Project Portfolio</h3>

            <div class="grid md:grid-cols-2 gap-8 interactive">
                <!-- Dreamweaver -->
                <div class="card cursor-pointer" onclick="openSolution('dreamweaver')">
                    <div>
                        <div class="text-magenta-400 text-[10px] mb-4 tracking-[0.3em]" style="color:#ff00ff">LUXURY APPAREL</div>
                        <h3 class="text-2xl font-bold mb-4">Dreamweaver</h3>
                        <p class="text-gray-400 text-sm leading-relaxed mb-6">Emphasizing the psychology of confidence through custom-tailored apparel and material integrity.</p>
                    </div>
                    <div class="text-[10px] text-cyan-400 uppercase tracking-widest">Click to Expand Portfolio ‚Üí</div>
                </div>

                <!-- Sagemaker -->
                <div class="card cursor-pointer" onclick="openSolution('sagemaker')">
                    <div>
                        <div class="text-cyan-400 text-[10px] mb-4 tracking-[0.3em]">ED-TECH</div>
                        <h3 class="text-2xl font-bold mb-4">Sagemaker</h3>
                        <p class="text-gray-400 text-sm leading-relaxed mb-6">A unified learning ecosystem available across all platforms for curated scientific education.</p>
                    </div>
                    <div class="text-[10px] text-cyan-400 uppercase tracking-widest">Click to Expand Portfolio ‚Üí</div>
                </div>

                <!-- BornFree -->
                <div class="card cursor-pointer" onclick="openSolution('bornfree')">
                    <div>
                        <div class="text-gray-400 text-[10px] mb-4 tracking-[0.3em]">TOURISM</div>
                        <h3 class="text-2xl font-bold mb-4">BornFree</h3>
                        <p class="text-gray-400 text-sm leading-relaxed mb-6">Intelligent tourism assistant streamlining logistics for seamless global travel experiences.</p>
                    </div>
                    <div class="text-[10px] text-cyan-400 uppercase tracking-widest">Click to Expand Portfolio ‚Üí</div>
                </div>

                <!-- CypherMonk -->
                <div class="card cursor-pointer" onclick="openSolution('cyphermonk')">
                    <div>
                        <div class="text-cyan-400 text-[10px] mb-4 tracking-[0.3em]">BLOCKCHAIN</div>
                        <h3 class="text-2xl font-bold mb-4">CypherMonk</h3>
                        <p class="text-gray-400 text-sm leading-relaxed mb-6">Advanced cryptography R&D, PQC protocols, and dedicated Bitcoin cold storage hardware.</p>
                    </div>
                    <div class="text-[10px] text-cyan-400 uppercase tracking-widest">Click to Expand Portfolio ‚Üí</div>
                </div>
            </div>
        </div>
    </div>

    <!-- TECHNOLOGY PAGE -->
    <div id="page-tech" class="page-content">
        <div class="max-w-5xl w-full mx-auto">
            <p class="sub-heading">Hardware & Logic</p>
            <h2 class="text-5xl font-black mb-8 tracking-tighter uppercase">The Technology</h2>
            <div class="grid md:grid-cols-2 gap-12 items-center interactive">
                <div class="space-y-6">
                    <p class="text-gray-400 leading-relaxed">
                        Our proprietary <strong>HKR-Infinity Engine</strong> utilizes non-Euclidean data structures.
                    </p>
                    <div class="border-l-2 border-cyan-400 pl-6 py-4">
                        <h4 class="text-xs tracking-[0.3em] font-bold text-cyan-400 uppercase mb-2">Core Processor</h4>
                        <p class="text-2xl font-black italic">HKR-Titan 9</p>
                    </div>
                </div>
                <div class="bg-white/5 p-10 backdrop-blur-sm border border-white/10">
                    <h4 class="text-xs tracking-[0.3em] font-bold uppercase mb-6">System Status</h4>
                    <div class="space-y-4">
                        <div class="flex justify-between text-[10px] uppercase tracking-widest">
                            <span>Uptime</span>
                            <span class="text-cyan-400">99.999%</span>
                        </div>
                        <div class="w-full bg-white/10 h-1"><div class="bg-cyan-400 h-full w-[99%]"></div></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- CAREERS PAGE -->
    <div id="page-careers" class="page-content">
        <div class="max-w-5xl w-full mx-auto">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-end mb-16">
                <div>
                    <p class="sub-heading">Join The Vanguard</p>
                    <h2 class="text-5xl font-black tracking-tighter uppercase">Careers</h2>
                </div>
                <div class="flex items-center gap-3 mt-6 md:mt-0 opacity-80">
                    <div class="text-[10px] uppercase tracking-widest text-right">
                        Powered by<br>
                        <span class="font-bold text-white">AWS Professional Services</span>
                    </div>
                    <div class="w-8 h-8 bg-white/10 rounded flex items-center justify-center">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>
                    </div>
                </div>
            </div>

            <div class="grid lg:grid-cols-2 gap-16 interactive">
                <div class="space-y-8">
                    <p class="text-gray-400 leading-relaxed text-lg">
                        We are building the systems that will define the next century. We are looking for architects, quantum theorists, and kinetic engineers who are ready to leave the known world behind.
                    </p>
                    <div class="p-6 bg-white/5 border border-white/10">
                        <h4 class="text-xs uppercase tracking-widest font-bold text-cyan-400 mb-2">Partner Network Integration</h4>
                        <p class="text-xs text-gray-500 leading-relaxed">
                            HKR Corp recruits exclusively through the AWS Professional Services portal for specialized cloud infrastructure roles.
                        </p>
                    </div>
                </div>

                <div class="space-y-2">
                    <div class="job-card cursor-pointer group">
                        <div class="flex justify-between items-baseline mb-2">
                            <h3 class="text-xl font-bold group-hover:text-cyan-400 transition">Quantum Infrastructure Architect</h3>
                            <span class="text-[10px] uppercase tracking-widest text-gray-500">Tokyo / Remote</span>
                        </div>
                        <p class="text-xs text-gray-400">Design low-latency quantum routing protocols for urban centers.</p>
                    </div>

                    <div class="job-card cursor-pointer group">
                        <div class="flex justify-between items-baseline mb-2">
                            <h3 class="text-xl font-bold group-hover:text-magenta-400 transition">Neural Network Engineer</h3>
                            <span class="text-[10px] uppercase tracking-widest text-gray-500">New York Hub</span>
                        </div>
                        <p class="text-xs text-gray-400">Develop recursive AI feedback loops for Sagemaker ecosystem.</p>
                    </div>

                    <div class="job-card cursor-pointer group">
                        <div class="flex justify-between items-baseline mb-2">
                            <h3 class="text-xl font-bold group-hover:text-white transition">Full Stack Cloud Developer</h3>
                            <span class="text-[10px] uppercase tracking-widest text-gray-500">Zurich / AWS</span>
                        </div>
                        <p class="text-xs text-gray-400">Maintain high-availability kinetic storage APIs.</p>
                    </div>

                    <button class="mt-8 btn-primary w-full">Apply via AWS Portal</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ABOUT PAGE -->
    <div id="page-about" class="page-content">
        <div class="max-w-4xl w-full mx-auto">
            <p class="sub-heading">Our Legacy</p>
            <h2 class="text-5xl font-black mb-10 tracking-tighter uppercase">Founded on Vision</h2>
            <p class="text-xl text-gray-300 font-light leading-relaxed interactive">
                HKR Corp was established in 2012 by a collective of computational physicists and industrial designers.
            </p>
        </div>
    </div>

    <!-- CONTACT PAGE -->
    <div id="page-contact" class="page-content items-center text-center justify-center">
        <div class="max-w-xl w-full interactive mx-auto">
            <p class="sub-heading">Secure Connection</p>
            <h2 class="text-5xl font-black mb-8 tracking-tighter uppercase">Get in Touch</h2>
            <form class="space-y-6">
                <input type="text" placeholder="FULL NAME / ENTITY" class="w-full bg-transparent border-b border-white/20 py-4 focus:outline-none focus:border-cyan-400 transition text-xs tracking-widest uppercase">
                <button type="submit" class="btn-primary w-full mt-6">Initialize Communication</button>
            </form>
        </div>
    </div>

    <!-- Expanded Footer -->
    <footer class="footer">
        <div class="grid md:grid-cols-4 gap-12 max-w-7xl mx-auto interactive">
            <div class="md:col-span-1">
                <div class="text-2xl font-black tracking-tighter mb-6">HKR CORP.</div>
                <p class="text-gray-500 text-xs leading-relaxed mb-6">
                    The Architecture of Tomorrow.
                </p>
                <div class="flex gap-4">
                    <a href="#" class="w-8 h-8 rounded-full bg-white/5 flex items-center justify-center hover:bg-white hover:text-black transition">ùïè</a>
                    <a href="#" class="w-8 h-8 rounded-full bg-white/5 flex items-center justify-center hover:bg-white hover:text-black transition">in</a>
                    <a href="#" class="w-8 h-8 rounded-full bg-white/5 flex items-center justify-center hover:bg-white hover:text-black transition">Git</a>
                </div>
            </div>

            <div>
                <h4 class="footer-heading">Sitemap</h4>
                <a onclick="showPage('home')" class="footer-link">Home Matrix</a>
                <a onclick="showPage('solutions')" class="footer-link">Solutions</a>
                <a onclick="showPage('tech')" class="footer-link">Technology</a>
                <a onclick="showPage('careers')" class="footer-link">Careers</a>
            </div>

            <div>
                <h4 class="footer-heading">Resources</h4>
                <a onclick="openTextModal('aws_partner')" class="footer-link">AWS Partner Portal</a>
                <a onclick="openTextModal('whitepaper')" class="footer-link">Titan-9 Whitepaper</a>
                <a onclick="openTextModal('system_status')" class="footer-link">System Status</a>
                <a onclick="openTextModal('api')" class="footer-link">Developer API</a>
            </div>

            <div>
                <h4 class="footer-heading">Legal</h4>
                <a onclick="openTextModal('privacy')" class="footer-link">Privacy Protocol</a>
                <a onclick="openTextModal('terms')" class="footer-link">Terms of Service</a>
                <a onclick="openTextModal('cookie_policy')" class="footer-link">Cookie Policy</a>
                <p class="text-gray-600 text-[10px] uppercase tracking-widest mt-8">¬© 2026 HKR Global Holdings.</p>
            </div>
        </div>
    </footer>

    <script>
        let scene, camera, renderer, masterGroup, clock;
        let isMouseDown = false;
        let mouseX = 0, mouseY = 0;
        let targetRotationX = 0.5, targetRotationY = 0.5;
        let currentActivePage = 'home';

        const solutionData = {
            dreamweaver: {
                title: "Dreamweaver",
                category: "Luxury Women‚Äôs Apparel",
                sub: "More than just fashion, Dreamweaver is about the psychology of confidence.",
                detail: "We specialize in custom-tailored apparel that emphasizes a 'sexy' state of mind without sacrificing ease of wear. Every garment is a testament to high-quality craftsmanship and material integrity. Our approach integrates supply-chain precision with aesthetic fluidity to create pieces that are both timeless and structurally innovative.",
                // To replace with S3 images, change the src attribute below
                heroImg: "https://via.placeholder.com/1920x800/111/444?text=DREAMWEAVER_HERO_S3",
                images: [
                    "https://via.placeholder.com/600x400/222/555?text=FABRIC_DETAIL_S3",
                    "https://via.placeholder.com/600x400/222/555?text=DESIGN_PROCESS_S3",
                    "https://via.placeholder.com/600x400/222/555?text=RUNWAY_SHOT_S3"
                ]
            },
            sagemaker: {
                title: "Sagemaker",
                category: "Unified Learning Ecosystem",
                sub: "Education should be accessible everywhere.",
                detail: "Sagemaker is a cloud-native application available across web, mobile, and tablet platforms. It delivers expertly curated content across all scientific fields, intelligently adapting to students of any age or expertise level through recursive feedback loops and AI-driven curriculum adjustment.",
                heroImg: "https://via.placeholder.com/1920x800/111/0ff?text=SAGEMAKER_HERO_S3",
                images: [
                    "https://via.placeholder.com/600x400/222/555?text=DASHBOARD_UI_S3",
                    "https://via.placeholder.com/600x400/222/555?text=MOBILE_APP_S3",
                    "https://via.placeholder.com/600x400/222/555?text=AI_NODE_VISUAL_S3"
                ]
            },
            bornfree: {
                title: "BornFree",
                category: "Intelligent Tourism Logistics",
                sub: "Travel is about freedom, and BornFree removes the friction.",
                detail: "This cloud-based application serves as a comprehensive travel assistant, streamlining tourism logistics to ensure that the journey is as enjoyable as the destination. We handle everything from global route optimization to real-time itinerary syncing using predictive traffic models.",
                heroImg: "https://via.placeholder.com/1920x800/111/888?text=BORNFREE_HERO_S3",
                images: [
                    "https://via.placeholder.com/600x400/222/555?text=MAP_INTERFACE_S3",
                    "https://via.placeholder.com/600x400/222/555?text=TRAVEL_LOGISTICS_S3",
                    "https://via.placeholder.com/600x400/222/555?text=USER_JOURNEY_S3"
                ]
            },
            cyphermonk: {
                title: "CypherMonk",
                category: "Advanced Cryptography & Blockchain",
                sub: "The frontier of digital security & Cold Storage.",
                // Updated detail with Icarus info and Buy button
                detail: `
                    <p class="mb-6">CypherMonk leads R&D in Post-Quantum Cryptography (PQC) and secure communication protocols. We are proud to feature <strong>Icarus Cards</strong>, the premier offline Bitcoin crypto-wallets designed for security, durability, and simplicity.</p>
                    
                    <div class="bg-white/5 p-6 border border-white/10 mb-8">
                        <h4 class="text-cyan-400 font-bold uppercase tracking-widest text-xs mb-4">Icarus Cards Specification</h4>
                        <ul class="list-disc pl-5 space-y-2 text-sm text-gray-400 marker:text-cyan-400">
                            <li><strong>Offline Security:</strong> Keys generated offline; all sensitive data deleted post-printing.</li>
                            <li><strong>Durable Build:</strong> High-quality PVC with extra lamination protection.</li>
                            <li><strong>Zero Skill Required:</strong> Scan QR to fund, peel hologram to redeem.</li>
                            <li><strong>Collectible Editions:</strong> Limited runs featuring artwork from top crypto artists.</li>
                        </ul>
                    </div>

                    <a href="https://icarus-cards.eu/" target="_blank" class="inline-block bg-cyan-400 text-black font-bold py-4 px-8 text-xs uppercase tracking-[0.2em] hover:bg-white transition shadow-[0_0_20px_rgba(0,255,255,0.3)] hover:shadow-[0_0_30px_rgba(255,255,255,0.5)]">
                        Buy Icarus Cards Now
                    </a>
                `,
                heroImg: "https://via.placeholder.com/1920x800/111/0ff?text=ICARUS_CARDS_HERO_S3",
                images: [
                    "https://via.placeholder.com/600x400/222/555?text=ICARUS_LIMITED_EDITION_S3",
                    "https://via.placeholder.com/600x400/222/555?text=BITCOIN_COLD_STORAGE_S3",
                    "https://via.placeholder.com/600x400/222/555?text=HOLOGRAM_SECURITY_S3"
                ]
            }
        };

        const footerContent = {
            aws_partner: {
                title: "AWS Partner Portal",
                body: "HKR Corp is a certified Advanced Tier Partner within the Amazon Web Services network. Our infrastructure is exclusively built on AWS Outposts to ensure sovereignty and low-latency performance. Access to our Partner Portal requires Level 3 clearance."
            },
            whitepaper: {
                title: "Titan-9 Whitepaper",
                body: "The Titan-9 Processor architecture utilizes a non-Von Neumann approach to data processing, leveraging localized quantum nodes. Download the technical specification PDF (v4.2) to learn about our kinetic storage optimization algorithms."
            },
            system_status: {
                title: "System Status",
                body: `<div id="system-graph-container">
                        <div class="status-overlay">
                            > REAL-TIME NODE METRICS<br>
                            <span style="color:#00ffff">> TOKYO-01: <span id="node-0-val">--</span>%</span><br>
                            <span style="color:#ff00ff">> NY-HUB: <span id="node-1-val">--</span>%</span><br>
                            <span style="color:#ffffff">> ZURICH: <span id="node-2-val">--</span>%</span>
                        </div>
                       </div>
                       All Systems Operational.<br><br>
                       <span style="color:#00ffff">‚óè</span> Node Tokyo-01: ONLINE (99.99% Uptime)<br>
                       <span style="color:#ff00ff">‚óè</span> Node NY-Hub: ONLINE (99.99% Uptime)<br>
                       <span style="color:#ffffff">‚óè</span> Node Zurich-Prime: ONLINE (100% Uptime)<br><br>
                       No active incidents reported in the last 24 hours.`
            },
            api: {
                title: "Developer API",
                body: "Integrate HKR's kinetic data streams into your own applications. Our REST and GraphQL endpoints provide real-time access to our global logistics and cryptographic verification networks. Request an API key via the console."
            },
            privacy: {
                title: "Privacy Protocol",
                body: "We adhere to the strictest data sovereignty laws, including GDPR, CCPA, and the Tokyo Data Accord. User data is encrypted at rest using AES-256 and in transit using TLS 1.3. We do not sell personal kinetic data to third parties."
            },
            terms: {
                title: "Terms of Service",
                body: "By accessing HKR Corp's network, you agree to abide by our usage guidelines. Unauthorized attempts to reverse-engineer our quantum routing protocols will result in immediate termination of access and potential legal action."
            },
            cookie_policy: {
                title: "Cookie Policy",
                body: "We use essential cookies for system session management and security verification. Advanced telemetry cookies are used to optimize 3D rendering performance based on your hardware capabilities. You may opt-out of non-essential cookies at any time."
            }
        };

        // Graph Animation Variables
        let statusAnimationId;
        let graphData = [[], [], []];
        const maxDataPoints = 100;
        const nodeColors = ['#00ffff', '#ff00ff', '#ffffff'];
        const nodeFillColors = ['rgba(0, 255, 255, 0.1)', 'rgba(255, 0, 255, 0.1)', 'rgba(255, 255, 255, 0.1)'];

        function initStatusGraph() {
            const container = document.getElementById('system-graph-container');
            if(!container) return;
            
            // Cleanup existing canvas if any
            const existingCanvas = container.querySelector('canvas');
            if(existingCanvas) existingCanvas.remove();

            const canvas = document.createElement('canvas');
            container.appendChild(canvas);
            
            canvas.width = container.clientWidth;
            canvas.height = container.clientHeight;
            const ctx = canvas.getContext('2d');
            
            const valSpans = [
                document.getElementById('node-0-val'),
                document.getElementById('node-1-val'),
                document.getElementById('node-2-val')
            ];

            // Initialize Data for 3 nodes
            graphData = [
                new Array(maxDataPoints).fill(45), // Tokyo
                new Array(maxDataPoints).fill(30), // NY
                new Array(maxDataPoints).fill(60)  // Zurich
            ];

            function render() {
                // 1. Update Data for all 3 nodes
                for(let n=0; n<3; n++) {
                    let series = graphData[n];
                    let lastVal = series[series.length - 1];
                    // Different mean values for visual separation
                    let mean = n === 0 ? 50 : (n === 1 ? 35 : 65);
                    let change = (Math.random() - 0.5) * 5 + (mean - lastVal) * 0.05; 
                    
                    if(Math.random() > 0.98) change += (Math.random() > 0.5 ? 10 : -10); 
                    
                    let newVal = Math.max(5, Math.min(95, lastVal + change));
                    
                    series.shift();
                    series.push(newVal);
                    
                    if(valSpans[n] && Math.random() > 0.8) {
                        valSpans[n].innerText = Math.round(newVal).toString().padStart(2, '0');
                    }
                }

                // 2. Clear Screen
                ctx.fillStyle = '#050505';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // 3. Draw Grid
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.05)';
                ctx.lineWidth = 1;
                const gridSizeX = canvas.width / 10;
                const gridSizeY = canvas.height / 5;
                
                ctx.beginPath();
                for(let x = 0; x <= canvas.width; x += gridSizeX) {
                    ctx.moveTo(x, 0); ctx.lineTo(x, canvas.height);
                }
                for(let y = 0; y <= canvas.height; y += gridSizeY) {
                    ctx.moveTo(0, y); ctx.lineTo(canvas.width, y);
                }
                ctx.stroke();

                // 4. Draw Graph Lines
                const stepX = canvas.width / (maxDataPoints - 1);
                
                // Use screen blending for overlapping glowing lines
                ctx.globalCompositeOperation = 'screen';

                for(let n=0; n<3; n++) {
                    const series = graphData[n];
                    const color = nodeColors[n];
                    const fillColor = nodeFillColors[n];

                    // Draw Fill Gradient
                    ctx.beginPath();
                    ctx.moveTo(0, canvas.height);
                    for(let i=0; i<series.length; i++) {
                        const x = i * stepX;
                        const y = canvas.height - (series[i] / 100 * canvas.height);
                        ctx.lineTo(x, y);
                    }
                    ctx.lineTo(canvas.width, canvas.height);
                    const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
                    gradient.addColorStop(0, fillColor);
                    gradient.addColorStop(1, 'rgba(0,0,0,0)');
                    ctx.fillStyle = gradient;
                    ctx.fill();

                    // Draw Line Stroke
                    ctx.beginPath();
                    for(let i=0; i<series.length; i++) {
                        const x = i * stepX;
                        const y = canvas.height - (series[i] / 100 * canvas.height);
                        if(i===0) ctx.moveTo(x, y);
                        else ctx.lineTo(x, y);
                    }
                    ctx.strokeStyle = color;
                    ctx.lineWidth = 2;
                    ctx.shadowColor = color;
                    ctx.shadowBlur = 10;
                    ctx.stroke();
                }
                
                ctx.globalCompositeOperation = 'source-over';
                ctx.shadowBlur = 0;

                // 5. Draw Scanline
                const time = Date.now() * 0.002;
                const scanY = (time % 10) / 10 * canvas.height;
                ctx.fillStyle = 'rgba(255, 255, 255, 0.03)';
                ctx.fillRect(0, scanY, canvas.width, 2);

                statusAnimationId = requestAnimationFrame(render);
            }
            render();
        }

        function openSolution(id) {
            const data = solutionData[id];
            const modalBody = document.getElementById('modal-body');
            
            const imagesHtml = data.images.map(img => `
                <div class="detail-img">
                    <img src="${img}" alt="Project Detail" class="s3-placeholder">
                </div>
            `).join('');

            modalBody.innerHTML = `
                <div class="modal-hero" style="background-image: url('${data.heroImg}');">
                    <div class="relative z-10 max-w-4xl">
                        <p class="text-cyan-400 text-xs tracking-[0.5em] uppercase mb-4">${data.category}</p>
                        <h2 class="text-5xl lg:text-8xl font-black tracking-tighter uppercase text-white mb-6" style="text-shadow: 0 10px 30px rgba(0,0,0,0.5);">${data.title}</h2>
                    </div>
                </div>
                
                <div class="modal-body-content">
                    <div class="grid lg:grid-cols-12 gap-16">
                        <div class="lg:col-span-4">
                            <p class="text-2xl font-light text-white leading-relaxed border-l-2 border-cyan-400 pl-6">${data.sub}</p>
                            <div class="mt-12 space-y-4">
                                <div class="flex items-center gap-4 text-xs text-gray-500 uppercase tracking-widest">
                                    <div class="w-2 h-2 bg-cyan-400 rounded-full"></div>
                                    <span>Status: Active</span>
                                </div>
                                <div class="flex items-center gap-4 text-xs text-gray-500 uppercase tracking-widest">
                                    <div class="w-2 h-2 bg-gray-600 rounded-full"></div>
                                    <span>Version: 2.4.0</span>
                                </div>
                            </div>
                        </div>
                        <div class="lg:col-span-8">
                            <!-- Changed from <p> to <div> to support rich HTML content in details -->
                            <div class="text-gray-400 leading-loose text-lg">
                                ${data.detail}
                            </div>
                            <div class="image-grid">
                                ${imagesHtml}
                            </div>
                            <div class="mt-24 pt-10 border-t border-white/10 text-center pb-8">
                                <button class="btn-primary" onclick="closeModal()">‚úï Close</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('solution-modal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('solution-modal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function openTextModal(type) {
            const content = footerContent[type];
            if (!content) return;
            const modalBody = document.getElementById('text-modal-body');
            modalBody.innerHTML = `
                <p class="sub-heading mb-6">Information Protocol</p>
                <h2 class="text-4xl font-black tracking-tighter uppercase mb-8 text-white border-b border-white/10 pb-6">${content.title}</h2>
                <div class="text-gray-300 leading-relaxed text-lg space-y-4">
                    ${content.body}
                </div>
                <div class="mt-12 pt-6 border-t border-white/10 text-center">
                    <button class="btn-primary" onclick="closeTextModal()">‚úï Close</button>
                </div>
            `;
            document.getElementById('text-modal').classList.add('active');
            document.body.style.overflow = 'hidden';

            // Initialize graph only if system status is opened
            if(type === 'system_status') {
                setTimeout(initStatusGraph, 100); // Slight delay to ensure DOM is ready
            }
        }

        function closeTextModal() {
            document.getElementById('text-modal').classList.remove('active');
            document.body.style.overflow = 'auto';
            
            // Stop animation if running
            if(statusAnimationId) {
                cancelAnimationFrame(statusAnimationId);
                statusAnimationId = null;
            }
        }

        function showPage(pageId) {
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.toggle('active', link.getAttribute('data-page') === pageId);
            });
            document.querySelectorAll('.page-content').forEach(page => page.classList.remove('active'));
            document.getElementById('page-' + pageId).classList.add('active');
            currentActivePage = pageId;
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function scrollToFeatured() {
            document.getElementById('featured-work').scrollIntoView({ behavior: 'smooth' });
        }

        function acceptCookies() {
            document.getElementById('cookie-popup').classList.remove('visible');
        }

        function init() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 6;
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            document.getElementById('canvas-container').appendChild(renderer.domElement);

            masterGroup = new THREE.Group();
            scene.add(masterGroup);
            const layerCount = 6;
            const baseSize = 2.5;

            for (let i = 0; i < layerCount; i++) {
                const scale = Math.pow(0.75, i);
                const size = baseSize * scale;
                const geometry = new THREE.BoxGeometry(size, size, size);
                const material = new THREE.MeshPhysicalMaterial({
                    color: 0xffffff, metalness: 0.5, roughness: 0.1, transmission: 0.9,
                    transparent: true, opacity: i === 0 ? 0.3 : 0.3 / (i + 1), reflectivity: 1.0, side: THREE.DoubleSide,
                    thickness: 0.5, ior: 1.45,
                });
                const mesh = new THREE.Mesh(geometry, material);
                const edges = new THREE.EdgesGeometry(geometry);
                const lineMat = new THREE.LineBasicMaterial({ color: 0x333333, transparent: true, opacity: 0.5 / (i + 0.5) });
                const line = new THREE.LineSegments(edges, lineMat);
                mesh.add(line);
                masterGroup.add(mesh);
                mesh.rotation.x = i * 0.1;
                mesh.rotation.y = i * 0.1;
            }

            const light1 = new THREE.PointLight(0x00ffff, 1.5, 20);
            light1.position.set(5, 5, 5);
            scene.add(light1);
            const light2 = new THREE.PointLight(0xff00ff, 1.5, 20);
            light2.position.set(-5, -5, 5);
            scene.add(light2);

            clock = new THREE.Clock();
            window.addEventListener('resize', onWindowResize);
            document.addEventListener('keydown', (e) => { 
                if(e.key === "Escape") {
                    closeModal();
                    closeTextModal();
                }
            });

            // MOUSE ONLY INTERACTION
            const container = document.getElementById('canvas-container');
            
            // We use global document listeners for move/up to handle dragging outside the canvas
            container.addEventListener('mousedown', (e) => {
                isMouseDown = true;
                mouseX = e.clientX;
                mouseY = e.clientY;
            });

            document.addEventListener('mousemove', (e) => {
                if (isMouseDown) {
                    const deltaX = e.clientX - mouseX;
                    const deltaY = e.clientY - mouseY;
                    
                    targetRotationY += deltaX * 0.005; // Adjusted sensitivity
                    targetRotationX += deltaY * 0.005;
                    
                    mouseX = e.clientX;
                    mouseY = e.clientY;
                }
            });

            document.addEventListener('mouseup', () => {
                isMouseDown = false;
            });

            // Cookie Popup Trigger
            setTimeout(() => {
                document.getElementById('cookie-popup').classList.add('visible');
            }, 5000);

            animate();
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        function animate() {
            requestAnimationFrame(animate);
            masterGroup.rotation.y += (targetRotationY - masterGroup.rotation.y) * 0.05;
            masterGroup.rotation.x += (targetRotationX - masterGroup.rotation.x) * 0.05;
            const time = clock.getElapsedTime();
            
            let targetX = 0, targetY = 0, targetScale = 1;
            
            if (currentActivePage === 'home') {
                targetY = window.scrollY * 0.003;
            } else if (currentActivePage === 'solutions') {
                targetX = 2.8; targetY = 0.5; targetScale = 0.7;
            } else if (currentActivePage === 'careers') {
                targetX = 0; targetY = -2; targetScale = 0.6;
            }
            
            masterGroup.position.x += (targetX - masterGroup.position.x) * 0.05;
            masterGroup.position.y += (targetY - masterGroup.position.y) * 0.05;
            const s = masterGroup.scale.x + (targetScale - masterGroup.scale.x) * 0.05;
            masterGroup.scale.set(s, s, s);

            masterGroup.children.forEach((child, index) => {
                child.rotation.z = Math.sin(time * 0.2 + index) * 0.1;
            });

            if (!isMouseDown) { targetRotationY += 0.003; targetRotationX += 0.0015; }
            renderer.render(scene, camera);
        }

        window.onload = init;
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Icarus Store | Secure Cold Storage</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;900&display=swap');
        :root {
            --btc-yellow: #f7931a;
            --trx-red: #ff0013;
            --hkr-cyan: #00ffff;
        }
        body {
            background: #050505;
            color: white;
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
        }
        .glass-panel {
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        .crypto-modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .crypto-modal.active { display: flex; }
        .blink { animation: blink 1.5s infinite; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        
        .product-card {
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            cursor: pointer;
        }
        .product-card:hover {
            transform: translateY(-8px);
            border-color: var(--hkr-cyan);
            background: rgba(255, 255, 255, 0.05);
        }

        .view-section {
            display: none;
            animation: fadeIn 0.5s ease forwards;
        }
        .view-section.active { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* 500x500 Animated BTC Logo */
        .btc-big-logo {
            width: 500px;
            height: 500px;
            max-width: 90vw;
            max-height: 90vw;
            animation: float 6s ease-in-out infinite, rotate3D 12s linear infinite;
            filter: drop-shadow(0 0 40px rgba(247, 147, 26, 0.4));
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-30px); }
        }
        
        @keyframes rotate3D {
            from { transform: perspective(1200px) rotateY(0deg); }
            to { transform: perspective(1200px) rotateY(360deg); }
        }

        .setup-step {
            border-left: 1px solid rgba(255,255,255,0.1);
            padding-left: 2.5rem;
            position: relative;
            margin-bottom: 4rem;
        }
        .setup-step::before {
            content: '';
            position: absolute;
            left: -5px;
            top: 0;
            width: 10px;
            height: 10px;
            background: var(--hkr-cyan);
            border-radius: 50%;
            box-shadow: 0 0 10px var(--hkr-cyan);
        }

        .logo-placeholder {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
        }
    </style>
</head>
<body class="pb-20">

    <!-- Navigation -->
    <nav class="p-8 border-b border-white/5 flex justify-between items-center sticky top-0 bg-black/90 backdrop-blur-md z-50">
        <div class="flex items-center gap-6">
            <div onclick="switchView('catalog')" class="text-xl font-black tracking-tighter cursor-pointer hover:text-cyan-400 transition">ICARUS STORE</div>
            <div class="hidden md:flex gap-8 text-[10px] font-bold uppercase tracking-[0.2em] text-gray-500">
                <span onclick="switchView('catalog')" class="hover:text-white cursor-pointer transition">Collections</span>
                <span onclick="switchView('setup')" class="hover:text-white cursor-pointer transition">Setup Guide</span>
                <a href="https://icarus-cards.eu/authkey-tool/" target="_blank" class="hover:text-white transition">Authkey Tool</a>
            </div>
        </div>
        <div class="flex items-center gap-4">
            <select id="currency-select" class="bg-black border border-white/10 p-2 text-[10px] font-bold uppercase tracking-widest outline-none cursor-pointer text-cyan-400">
                <option value="USD">USD ($)</option>
                <option value="EUR">EUR (€)</option>
                <option value="INR">INR (₹)</option>
                <option value="GBP">GBP (£)</option>
            </select>
        </div>
    </nav>

    <!-- VIEW: CATALOG -->
    <div id="view-catalog" class="view-section active max-w-7xl mx-auto px-6 mt-16">
        <div class="mb-16">
            <p class="text-cyan-400 text-xs tracking-[0.5em] uppercase mb-4">Bearer Assets</p>
            <h1 class="text-6xl font-black tracking-tighter uppercase mb-6">The Full Collection</h1>
        </div>

        <!-- 14 Product Grid -->
        <div id="catalog-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
            <!-- Dynamic Injection via Script -->
        </div>

        <!-- AUTHKEY TOOL SECTION -->
        <div class="mt-40 glass-panel p-20 text-center overflow-hidden relative border-t border-white/10">
            <div class="relative z-10 flex flex-col items-center">
                <p class="text-yellow-500 text-[10px] font-bold tracking-[0.5em] uppercase mb-12">Hardware Authentication Protocol</p>
                
                <!-- 500x500 Animated Logo -->
                <div class="mb-12 cursor-pointer" onclick="window.open('https://icarus-cards.eu/authkey-tool/', '_blank')">
                    <svg class="btc-big-logo" viewBox="0 0 32 32" fill="#f7931a">
                        <path d="M22.7,11.5c-0.5-3.3-2.6-4.6-5.6-5.1V2.6h-2.1v3.7c-0.5,0-1.1,0.1-1.6,0.2V2.6H11.2v3.8c-0.4,0.1-0.9,0.2-1.3,0.3l0-0.1L6.7,5.7l-0.6,2.5c0,0,1.7,0.4,1.7,0.4c1,0.2,1.1,0.8,1.1,1.3l0.1,5.2c0,0.1,0,0.2,0,0.3l-0.1,6.5c0,0.5-0.1,1.1-1.1,1.3c0,0-1.7,0.4-1.7,0.4l0.6,2.5l3.2-0.8c0.5,0.1,0.9,0.2,1.3,0.3v3.8h2.1v-3.7c0.6,0,1.1,0.1,1.6,0.1v3.7h2.1v-3.8c3.6-0.3,6.1-1.4,6.7-5.5c0.5-3.3-0.8-5-3.2-5.9C21.9,15.6,23.1,13.9,22.7,11.5z M18,22c-0.4,2.5-4.2,1.2-5.4,0.9l1-3.9C14.8,19.3,18.4,20,18,22z M18.8,13.5c-0.3,2.2-3.5,1.1-4.5,0.8l0.9-3.5C16.1,11,19.1,11.7,18.8,13.5z"/>
                    </svg>
                </div>

                <a href="https://icarus-cards.eu/authkey-tool/" target="_blank" class="group block">
                    <h2 class="text-6xl font-black uppercase tracking-tighter group-hover:text-yellow-500 transition mb-6">Authkey Tool</h2>
                    <p class="text-gray-400 mt-4 text-lg max-w-xl mx-auto leading-relaxed mb-12">
                        Verify your card's physical integrity and generate secure BIP38 encrypted keys using our open-source, client-side authentication suite.
                    </p>
                    
                    <!-- GIF Placeholder -->
                    <div class="max-w-md mx-auto mb-12 border border-white/10 p-2 rounded-lg bg-black/50">
                        <img src="https://via.placeholder.com/600x400/000/fff?text=AUTHKEY_TOOL_DEMO.GIF" alt="Tool Preview" class="w-full h-auto opacity-50 grayscale hover:grayscale-0 transition duration-500">
                    </div>

                    <button class="bg-yellow-500 text-black px-12 py-5 font-black uppercase tracking-widest text-xs hover:bg-white transition shadow-[0_0_30px_rgba(247,147,26,0.3)]">Launch Tool →</button>
                </a>
            </div>
        </div>
    </div>

    <!-- VIEW: SETUP GUIDE -->
    <div id="view-setup" class="view-section max-w-4xl mx-auto px-6 mt-16">
        <div class="mb-16">
            <p class="text-cyan-400 text-xs tracking-[0.5em] uppercase mb-4">Deployment Instructions</p>
            <h1 class="text-6xl font-black tracking-tighter uppercase mb-6">Setup Protocol</h1>
        </div>

        <div class="space-y-4 mb-20">
            <div class="setup-step">
                <h3 class="text-2xl font-bold uppercase mb-4 text-white">1. Seal Verification</h3>
                <p class="text-gray-400 leading-relaxed text-lg">Examine the tamper-evident security foil on the back of the Icarus card. It should be perfectly smooth. If a honeycomb pattern or the word "VOID" is visible, the card's integrity has been compromised and it should not be funded.</p>
            </div>

            <div class="setup-step">
                <h3 class="text-2xl font-bold uppercase mb-4 text-white">2. Address Synchronization</h3>
                <p class="text-gray-400 leading-relaxed text-lg">The public address is located on the front of the card. Use any blockchain explorer or your mobile wallet to scan this address. Verify that the address on the blockchain matches the printed QR code using our Authkey tool.</p>
            </div>

            <div class="setup-step">
                <h3 class="text-2xl font-bold uppercase mb-4 text-white">3. Funding Procedure</h3>
                <p class="text-gray-400 leading-relaxed text-lg">Transmit your BTC or TRX from an exchange or hot wallet to the public address. We recommend sending a small test amount first. Once the transaction has 1-3 network confirmations, your card is successfully funded.</p>
            </div>

            <div class="setup-step">
                <h3 class="text-2xl font-bold uppercase mb-4 text-white">4. Secure Storage</h3>
                <p class="text-gray-400 leading-relaxed text-lg">Place the card in a secure, fireproof location. Icarus cards do not degrade over time and require no power. They are designed to withstand environmental stress that would destroy traditional hardware wallets.</p>
            </div>

            <div class="setup-step">
                <h3 class="text-2xl font-bold uppercase mb-4 text-white">5. Redemption & Sweeping</h3>
                <p class="text-gray-400 leading-relaxed text-lg">To access your funds, peel the security seal to reveal the WIF (Wallet Import Format) private key. Use a trusted wallet app (like BlueWallet or Trust Wallet) to "Sweep" the private key, moving the balance to a new address.</p>
            </div>
        </div>
        
        <button onclick="switchView('catalog')" class="bg-cyan-400 text-black px-10 py-5 font-bold uppercase text-xs tracking-[0.2em] hover:bg-white transition">Back to Main Catalog</button>
    </div>

    <!-- VIEW: PRODUCT DETAIL -->
    <div id="view-product" class="view-section max-w-7xl mx-auto px-6 mt-16">
        <button onclick="switchView('catalog')" class="text-xs text-gray-400 uppercase tracking-widest mb-12 hover:text-white transition">← Return to catalog</button>
        
        <div class="grid lg:grid-cols-2 gap-20">
            <div class="space-y-12">
                <div>
                    <h1 id="product-name" class="text-7xl font-black tracking-tighter uppercase mb-6">Standard Edition</h1>
                    <p id="product-tagline" class="text-2xl font-light text-gray-500 italic">Physical sovereignty in your pocket.</p>
                </div>
                
                <div id="product-specs-container" class="grid grid-cols-2 gap-4"></div>
                
                <div class="space-y-8">
                    <h4 class="text-[10px] font-bold uppercase tracking-[0.3em] text-cyan-400">Deep Dive</h4>
                    <p id="product-description" class="text-gray-400 leading-relaxed text-lg border-l border-white/10 pl-6">
                        <!-- Description placeholder via JS -->
                    </p>
                </div>
            </div>

            <div class="glass-panel p-10 space-y-8 sticky top-32 h-fit border border-white/10 shadow-3xl">
                <div class="flex justify-between items-end border-b border-white/5 pb-8">
                    <div>
                        <p class="text-[10px] text-gray-500 uppercase tracking-widest mb-2">Total Amount Due</p>
                        <h2 id="display-price" class="text-6xl font-black tracking-tighter">79.00 USD</h2>
                    </div>
                    <div class="text-right">
                        <p id="crypto-equivalent" class="text-[12px] text-cyan-400 font-mono tracking-tighter">≈ 0.000000 BTC</p>
                    </div>
                </div>

                <div class="space-y-4">
                    <p class="text-[10px] font-bold uppercase tracking-widest text-gray-600 mb-2">Secure Gateway selection</p>
                    
                    <button id="rzp-button" class="btn-payment w-full bg-[#1e40af] p-6 flex justify-between items-center group rounded">
                        <div class="flex items-center gap-5">
                            <div class="bg-white p-1 rounded shadow-lg">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M18.5 4L7 16H4.5L16 4H18.5Z" fill="#1e40af"/><path d="M12.5 4L4 13V15.5L12.5 6.5V4Z" fill="#1e40af"/><path d="M18.5 20L10 11V8.5L18.5 17.5V20Z" fill="#1e40af"/></svg>
                            </div>
                            <div class="text-left">
                                <p class="text-[9px] font-black uppercase tracking-widest opacity-60">Debit / Credit / UPI</p>
                                <p class="font-bold text-lg">Razorpay</p>
                            </div>
                        </div>
                        <span class="text-2xl group-hover:translate-x-1 transition">→</span>
                    </button>

                    <button onclick="openCrypto('BTC')" class="btn-payment w-full border border-yellow-500/20 bg-yellow-500/5 p-6 flex justify-between items-center group hover:bg-yellow-500/10 rounded">
                        <div class="flex items-center gap-5">
                            <div class="bg-[#f7931a] p-1 rounded shadow-lg">
                                <svg width="24" height="24" viewBox="0 0 32 32" fill="white"><path d="M22.7,11.5c-0.5-3.3-2.6-4.6-5.6-5.1V2.6h-2.1v3.7c-0.5,0-1.1,0.1-1.6,0.2V2.6H11.2v3.8c-0.4,0.1-0.9,0.2-1.3,0.3l0-0.1L6.7,5.7l-0.6,2.5c0,0,1.7,0.4,1.7,0.4c1,0.2,1.1,0.8,1.1,1.3l0.1,5.2c0,0.1,0,0.2,0,0.3l-0.1,6.5c0,0.5-0.1,1.1-1.1,1.3c0,0-1.7,0.4-1.7,0.4l0.6,2.5l3.2-0.8c0.5,0.1,0.9,0.2,1.3,0.3v3.8h2.1v-3.7c0.6,0,1.1,0.1,1.6,0.1v3.7h2.1v-3.8c3.6-0.3,6.1-1.4,6.7-5.5c0.5-3.3-0.8-5-3.2-5.9C21.9,15.6,23.1,13.9,22.7,11.5z M18,22c-0.4,2.5-4.2,1.2-5.4,0.9l1-3.9C14.8,19.3,18.4,20,18,22z M18.8,13.5c-0.3,2.2-3.5,1.1-4.5,0.8l0.9-3.5C16.1,11,19.1,11.7,18.8,13.5z"/></svg>
                            </div>
                            <div class="text-left">
                                <p class="text-[9px] font-black uppercase tracking-widest text-yellow-500">Peer-to-Peer</p>
                                <p class="font-bold text-lg text-yellow-500">Bitcoin (BTC)</p>
                            </div>
                        </div>
                        <span class="text-2xl group-hover:translate-x-1 transition text-yellow-500">→</span>
                    </button>

                    <button onclick="openCrypto('TRX')" class="btn-payment w-full border border-red-500/20 bg-red-500/5 p-6 flex justify-between items-center group hover:bg-red-500/10 rounded">
                        <div class="flex items-center gap-5">
                            <div class="bg-[#ff0013] p-1 rounded shadow-lg">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white"><path d="M12 2L2 22h20L12 2zm0 4.5l6.5 13H5.5l6.5-13z"/></svg>
                            </div>
                            <div class="text-left">
                                <p class="text-[9px] font-black uppercase tracking-widest text-red-500">Mempool Instant</p>
                                <p class="font-bold text-lg text-red-500">Tron (TRX)</p>
                            </div>
                        </div>
                        <span class="text-2xl group-hover:translate-x-1 transition text-red-500">→</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Crypto Payment Modal -->
    <div id="crypto-modal" class="crypto-modal">
        <div class="glass-panel p-10 max-w-md w-full text-center relative border border-white/10 shadow-2xl">
            <button onclick="closeCrypto()" class="absolute top-4 right-4 text-gray-500 hover:text-white transition">✕</button>
            <h3 id="modal-title" class="text-xl font-bold mb-6 tracking-widest uppercase">Pay with BTC</h3>
            <div id="qrcode" class="bg-white p-4 inline-block mb-8 rounded-lg"></div>
            <div class="space-y-4 text-left">
                <div class="p-6 bg-black/80 border border-white/5 rounded">
                    <p class="text-[9px] text-gray-500 uppercase tracking-widest mb-1">Network Transmission</p>
                    <p id="modal-amount" class="font-mono text-cyan-400 text-2xl font-black">0.000 BTC</p>
                    
                    <!-- FIAT PRICE UNDERNEATH CRYPTO (Large) -->
                    <div class="mt-4 pt-4 border-t border-white/10">
                        <p class="text-[9px] text-gray-500 uppercase tracking-widest mb-1">Fiat Valuation</p>
                        <p id="modal-fiat-val" class="text-2xl text-white font-black uppercase tracking-widest">79.00 USD</p>
                    </div>
                </div>
                <div class="p-4 bg-black/80 border border-white/5 rounded">
                    <p class="text-[8px] text-gray-500 uppercase tracking-widest mb-1">Destination Address</p>
                    <p id="modal-address" class="font-mono text-[10px] break-all select-all text-gray-300">...</p>
                </div>
            </div>
            <div id="payment-status" class="mt-8 text-yellow-500 text-[10px] font-mono blink tracking-widest uppercase">> AWAITING MEMPOOL DETECTION...</div>
        </div>
    </div>

    <script>
        const BTC_ADDR = "bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh";
        const TRX_ADDR = "TXYZ123TRONTESTADDRESS";
        const RZP_KEY = "rzp_test_YOUR_KEY_HERE";

        // Catalog of 14 items with description placeholders
        const products = [
            { 
                id: "std", name: "Standard Icarus", price: 79, tagline: "Offline sovereignty.", material: "PVC Composite", weight: "5g", 
                description: "The Standard Icarus card is the perfect entry-point for secure cold storage. Built with high-density PVC and layered with tamper-evident security foil, it provides a physical fortress for your private keys without the need for electronics. [INSERT_DETAILED_STD_DESC_HERE]" 
            },
            { 
                id: "obs", name: "Obsidian Core", price: 149, tagline: "Extreme durability.", material: "Aero Metal", weight: "18g",
                description: "Engineered for high-stress environments, the Obsidian series utilizes an aerospace-grade aluminum core. Laser-etched keys ensure your data survives fire, water, and magnetic interference. [INSERT_DETAILED_OBS_DESC_HERE]"
            },
            { 
                id: "art1", name: "Artist Series #01", price: 299, tagline: "Limited rarity.", material: "Gold Laminate", weight: "6g",
                description: "A convergence of high-security hardware and exclusive digital art. This limited set includes a unique holographic print and a verifiable NFT twin on the Bitcoin blockchain. [INSERT_DETAILED_ART_DESC_HERE]"
            },
            { 
                id: "key", name: "Icarus Keychain", price: 49, tagline: "Portable backup.", material: "Hard Plastic", weight: "3g",
                description: "A compact form-factor backup card designed to fit on any standard keychain. Includes a reinforced metal loop and dual-layer security foil for peace of mind on the move. [INSERT_DETAILED_KEY_DESC_HERE]"
            },
            { 
                id: "cyber", name: "Cyberpunk Blue", price: 89, tagline: "Neon aesthetics.", material: "Glow PVC", weight: "5g",
                description: "Part of our Neon-Vanguard series. This card features a reactive photoluminescent layer that glows in low-light environments while maintaining full tamper-evident integrity. [INSERT_DETAILED_CYBER_DESC_HERE]"
            },
            { 
                id: "matrix", name: "Matrix Green", price: 89, tagline: "Digital heritage.", material: "Glow PVC", weight: "5g",
                description: "Pay homage to the origins of the digital revolution. Features custom matrix-code artwork and a specialized green holographic seal. [INSERT_DETAILED_MATRIX_DESC_HERE]"
            },
            { 
                id: "founder", name: "Founder Card", price: 499, tagline: "The elite tier.", material: "Brushed Steel", weight: "22g",
                description: "The ultimate status symbol in cold storage. Each Founder Card is individually numbered and etched into a single block of heavy-duty brushed steel. [INSERT_DETAILED_FOUNDER_DESC_HERE]"
            },
            { 
                id: "bundle", name: "Travel Bundle", price: 199, tagline: "Set of three.", material: "Mixed", weight: "15g",
                description: "A comprehensive storage solution for the frequent traveler. Includes one Standard card, one Keychain backup, and one Obsidian core for long-term vaulting. [INSERT_DETAILED_BUNDLE_DESC_HERE]"
            },
            { 
                id: "shield", name: "Privacy Shield", price: 129, tagline: "BIP38 Optimized.", material: "Matte Metal", weight: "12g",
                description: "Designed specifically for encrypted private keys. Features an additional layer of opaque shielding to prevent any chance of X-ray or high-intensity light penetration. [INSERT_DETAILED_SHIELD_DESC_HERE]"
            },
            { 
                id: "genesis", name: "Genesis Block", price: 250, tagline: "Historical commemorative.", material: "Bronze Finish", weight: "20g",
                description: "Commemorating the block that started it all. Features a heavy bronze-finish and custom artwork depicting the Satoshi whitepaper abstract. [INSERT_DETAILED_GENESIS_DESC_HERE]"
            },
            { 
                id: "duo", name: "Duo Pack", price: 110, tagline: "BTC + TRX Ready.", material: "PVC", weight: "10g",
                description: "A matched pair of cards optimized for multi-chain users. One dedicated BTC storage card and one TRX high-speed interaction card. [INSERT_DETAILED_DUO_DESC_HERE]"
            },
            { 
                id: "titan", name: "Titanium Elite", price: 350, tagline: "Virtually indestructible.", material: "Pure Titanium", weight: "14g",
                description: "Forged from pure Grade-5 Titanium. This is the strongest physical key carrier ever produced by HKR Corp. Impervious to almost all standard physical threats. [INSERT_DETAILED_TITAN_DESC_HERE]"
            },
            { 
                id: "mesh", name: "Holo Mesh", price: 160, tagline: "Prismatic security.", material: "Prism Foil", weight: "5g",
                description: "Features a full-surface prismatic security mesh that makes visual copying impossible while providing a stunning rainbow-refraction finish. [INSERT_DETAILED_MESH_DESC_HERE]"
            },
            { 
                id: "prox", name: "Prototype X", price: 999, tagline: "Testing the future.", material: "Unidentified", weight: "??g",
                description: "A laboratory-only experimental core. Includes undocumented security features and access to the Icarus Beta testing network for future hardware. [INSERT_DETAILED_PROX_DESC_HERE]"
            }
        ];

        const state = {
            currency: 'USD',
            rates: { BTC: 0, TRX: 0 },
            fiatRates: { USD: 1, EUR: 0.92, INR: 83.0, GBP: 0.79 },
            currentProduct: products[0]
        };

        function switchView(view) {
            document.querySelectorAll('.view-section').forEach(v => v.classList.remove('active'));
            document.getElementById('view-' + view).classList.add('active');
            window.scrollTo(0, 0);
        }

        function populateCatalog() {
            const grid = document.getElementById('catalog-grid');
            grid.innerHTML = products.map(p => `
                <div onclick="openProduct('${p.id}')" class="product-card glass-panel p-6 flex flex-col">
                    <div class="aspect-square bg-white/5 mb-6 flex items-center justify-center border border-white/5 relative">
                        <span class="text-[8px] text-gray-600 uppercase tracking-widest">UNIT_${p.id.toUpperCase()}</span>
                    </div>
                    <h3 class="text-lg font-bold mb-1">${p.name}</h3>
                    <p class="text-gray-500 text-[10px] mb-6 flex-grow leading-relaxed">${p.tagline}</p>
                    <div class="flex justify-between items-center mt-auto border-t border-white/5 pt-4">
                        <span class="font-mono text-cyan-400 font-bold">$${p.price}.00</span>
                        <span class="text-[8px] uppercase font-bold tracking-widest text-gray-500 hover:text-white transition">Details →</span>
                    </div>
                </div>
            `).join('');
        }

        function openProduct(id) {
            state.currentProduct = products.find(p => p.id === id);
            document.getElementById('product-name').innerText = state.currentProduct.name;
            document.getElementById('product-tagline').innerText = state.currentProduct.tagline;
            document.getElementById('product-description').innerText = state.currentProduct.description;
            document.getElementById('product-specs-container').innerHTML = `
                <div class="glass-panel p-4"><span class="block text-[8px] uppercase text-gray-600 mb-1">Chassis Material</span><span class="text-xs font-bold">${state.currentProduct.material}</span></div>
                <div class="glass-panel p-4"><span class="block text-[8px] uppercase text-gray-600 mb-1">Curb Weight</span><span class="text-xs font-bold">${state.currentProduct.weight}</span></div>
            `;
            updateUI();
            switchView('product');
        }

        async function fetchRates() {
            try {
                const res = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,tron&vs_currencies=usd');
                const data = await res.json();
                state.rates.BTC = data.bitcoin.usd;
                state.rates.TRX = data.tron.usd;
                updateUI();
            } catch (e) { console.error("Blockchain ticker unavailable", e); }
        }

        function updateUI() {
            const fiatFactor = state.fiatRates[state.currency];
            const converted = (state.currentProduct.price * fiatFactor).toFixed(2);
            const priceDisplay = document.getElementById('display-price');
            if(priceDisplay) priceDisplay.innerText = `${converted} ${state.currency}`;
            
            const btcEq = (state.currentProduct.price / state.rates.BTC).toFixed(8);
            const cryptoEq = document.getElementById('crypto-equivalent');
            if(cryptoEq) cryptoEq.innerText = `≈ ${btcEq} BTC`;
        }

        function openCrypto(type) {
            const modal = document.getElementById('crypto-modal');
            const fiatFactor = state.fiatRates[state.currency];
            const convertedFiat = (state.currentProduct.price * fiatFactor).toFixed(2);
            const val = type === 'BTC' ? (state.currentProduct.price / state.rates.BTC).toFixed(8) : (state.currentProduct.price / state.rates.TRX).toFixed(2);
            const address = type === 'BTC' ? BTC_ADDR : TRX_ADDR;

            document.getElementById('modal-title').innerText = `Pay with ${type}`;
            document.getElementById('modal-amount').innerText = `${val} ${type}`;
            document.getElementById('modal-fiat-val').innerText = `${convertedFiat} ${state.currency}`;
            document.getElementById('modal-address').innerText = address;

            document.getElementById('qrcode').innerHTML = "";
            new QRCode(document.getElementById("qrcode"), {
                text: type === 'BTC' ? `bitcoin:${address}?amount=${val}` : `tron:${address}?amount=${val}`,
                width: 200, height: 200
            });
            modal.classList.add('active');
        }

        function closeCrypto() { document.getElementById('crypto-modal').classList.remove('active'); }

        document.getElementById('currency-select').addEventListener('change', (e) => {
            state.currency = e.target.value;
            updateUI();
        });

        populateCatalog();
        fetchRates();
        setInterval(fetchRates, 60000);
    </script>
</body>
</html>
